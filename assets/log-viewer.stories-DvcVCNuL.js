var yn=Object.defineProperty;var pn=(t,e,n)=>e in t?yn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var X=(t,e,n)=>pn(t,typeof e!="symbol"?e+"":e,n);import{q as hn,E as Xe,a as Ge,b as Mt,c as gn,d as mn,e as vn,N as Re,i as bn,f as xn,g as It,h as kn,n as wn,j as _n,l as Sn,p as L,k as H,m as de,o as T,r as Ze,s as $e,t as et,u as se,v as E,w as xe,x as ke,y as He,z as Te,A as Tt,B as En,C as Cn,D as Mn}from"./props-lo-TZVgT.js";import{u as Lt,D as tt,m as In,x as At,$ as Ee,F as nt,z as Oe,G as zt,j as Je,a0 as pt,a1 as Tn,a2 as Ln,a3 as An,a4 as it,q as zn,Y as Rn,c as ht,a5 as On,E as Rt,a6 as Ot,a7 as Nn,l as Vn,a8 as Wn,a9 as qn,J as Pn,I as Dn,s as Ne,aa as st,g as rt,ab as ee,i as d,f as F,A as G,L as we,ac as j,B as Z,O as V,ad as at,ae as J,o as Nt,K as gt,af as $,ag as ie,X as mt}from"./index-client-CX5CnhyS.js";import{O as Bn}from"./index-Cu4lwwaE.js";import{y as Fn,g as vt}from"./index-BBo-_xnV.js";import"./_commonjsHelpers-Cpj98o6Y.js";let jn=!1;function ot(t,e){return e}function Un(t,e,n,i){for(var s=[],r=e.length,l=0;l<r;l++)Tn(e[l].e,s,!0);var o=r>0&&s.length===0&&n!==null;if(o){var c=n.parentNode;Ln(c),c.append(n),i.clear(),ae(t,e[0].prev,e[r-1].next)}An(s,()=>{for(var f=0;f<r;f++){var h=e[f];o||(i.delete(h.k),ae(t,h.prev,h.next)),it(h.e,!o)}})}function Ve(t,e,n,i,s,r=null){var l=t,o={flags:e,items:new Map,first:null},c=(e&Mt)!==0;if(c){var f=t;l=f.appendChild(Lt())}var h=null,p=!1;tt(()=>{var u=n(),a=In(u)?u:u==null?[]:At(u),m=a.length;if(!(p&&m===0)){p=m===0;{var v=zn;Kn(a,o,l,s,e,(v.f&Ee)!==0,i)}r!==null&&(m===0?h?nt(h):h=Oe(()=>r(l)):h!==null&&zt(h,()=>{h=null})),n()}})}function Kn(t,e,n,i,s,r,l,o){var q,Y,I,O;var c=(s&gn)!==0,f=(s&(Xe|Ge))!==0,h=t.length,p=e.items,u=e.first,a=u,m,v=null,k,y=[],g=[],w,x,b,_;if(c)for(_=0;_<h;_+=1)w=t[_],x=l(w,_),b=p.get(x),b!==void 0&&((q=b.a)==null||q.measure(),(k??(k=new Set)).add(b));for(_=0;_<h;_+=1){if(w=t[_],x=l(w,_),b=p.get(x),b===void 0){var W=a?a.e.nodes_start:n;v=Jn(W,e,v,v===null?e.first:v.next,w,x,_,i,s),p.set(x,v),y=[],g=[],a=v.next;continue}if(f&&Hn(b,w,_,s),b.e.f&Ee&&(nt(b.e),c&&((Y=b.a)==null||Y.unfix(),(k??(k=new Set)).delete(b))),b!==a){if(m!==void 0&&m.has(b)){if(y.length<g.length){var B=g[0],A;v=B.prev;var U=y[0],z=y[y.length-1];for(A=0;A<y.length;A+=1)bt(y[A],B,n);for(A=0;A<g.length;A+=1)m.delete(g[A]);ae(e,U.prev,z.next),ae(e,v,U),ae(e,z,B),a=B,v=z,_-=1,y=[],g=[]}else m.delete(b),bt(b,a,n),ae(e,b.prev,b.next),ae(e,b,v===null?e.first:v.next),ae(e,v,b),v=b;continue}for(y=[],g=[];a!==null&&a.k!==x;)(r||!(a.e.f&Ee))&&(m??(m=new Set)).add(a),g.push(a),a=a.next;if(a===null)continue;b=a}y.push(b),v=b,a=b.next}if(a!==null||m!==void 0){for(var N=m===void 0?[]:At(m);a!==null;)(r||!(a.e.f&Ee))&&N.push(a),a=a.next;var S=N.length;if(S>0){var C=s&Mt&&h===0?n:null;if(c){for(_=0;_<S;_+=1)(I=N[_].a)==null||I.measure();for(_=0;_<S;_+=1)(O=N[_].a)==null||O.fix()}Un(e,N,C,p)}}c&&hn(()=>{var R;if(k!==void 0)for(b of k)(R=b.a)==null||R.apply()}),Je.first=e.first&&e.first.e,Je.last=v&&v.e}function Hn(t,e,n,i){i&Xe&&pt(t.v,e),i&Ge?pt(t.i,n):t.i=n}function Jn(t,e,n,i,s,r,l,o,c,f){var h=(c&Xe)!==0,p=(c&mn)===0,u=h?p?Rn(s):ht(s):s,a=c&Ge?ht(l):l,m={i:a,v:u,k:r,a:null,e:null,prev:n,next:i};try{return m.e=Oe(()=>o(t,u,a),jn),m.e.prev=n&&n.e,m.e.next=i&&i.e,n===null?e.first=m:(n.next=m,n.e.next=m.e),i!==null&&(i.prev=m,i.e.prev=m.e),m}finally{}}function bt(t,e,n){for(var i=t.next?t.next.e.nodes_start:n,s=e?e.e.nodes_start:n,r=t.e.nodes_start;r!==i;){var l=On(r);s.before(r),r=l}}function ae(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function lt(t,e,n,i,s){var o;var r=(o=e.$$slots)==null?void 0:o[n],l=!1;r===!0&&(r=e.children,l=!0),r===void 0||r(t,l?()=>i:i)}function Vt(t,e,...n){var i=t,s=Ot,r;tt(()=>{s!==(s=e())&&(r&&(it(r),r=null),r=Oe(()=>s(i,...n)))},Rt)}function ct(t,e,n,i,s,r){var l,o,c=null,f=t,h;tt(()=>{const p=e()||null;var u=n||p==="svg"?Re:null;p!==l&&(h&&(p===null?zt(h,()=>{h=null,o=null}):p===o?nt(h):it(h)),p&&p!==o&&(h=Oe(()=>{if(c=u?document.createElementNS(u,p):document.createElement(p),vn(c,c),i){var a=c.appendChild(Lt());i(c,a)}Je.nodes_end=c,f.before(c)})),l=p,l&&(o=l))},Rt)}function Wt(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Wt(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function Yn(){for(var t,e,n=0,i="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Wt(t))&&(i&&(i+=" "),i+=e);return i}function Qn(t){return typeof t=="object"?Yn(t):t??""}function Xn(t,e){e?t.hasAttribute("selected")||t.setAttribute("selected",""):t.removeAttribute("selected")}function Le(t,e,n,i){var s=t.__attributes??(t.__attributes={});s[e]!==(s[e]=n)&&(e==="style"&&"__styles"in t&&(t.__styles={}),e==="loading"&&(t[Nn]=n),n==null?t.removeAttribute(e):typeof n!="string"&&qt(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function _e(t,e,n,i,s=!1,r=!1,l=!1){var o=e||{},c=t.tagName==="OPTION";for(var f in e)f in n||(n[f]=null);n.class&&(n.class=Qn(n.class));var h=qt(t),p=t.__attributes??(t.__attributes={});for(const y in n){let g=n[y];if(c&&y==="value"&&g==null){t.value=t.__value="",o[y]=g;continue}var u=o[y];if(g!==u){o[y]=g;var a=y[0]+y[1];if(a!=="$$"){if(a==="on"){const w={},x="$$"+y;let b=y.slice(2);var m=_n(b);if(bn(b)&&(b=b.slice(0,-7),w.capture=!0),!m&&u){if(g!=null)continue;t.removeEventListener(b,o[x],w),o[x]=null}if(g!=null)if(m)t[`__${b}`]=g,It([b]);else{let _=function(W){o[y].call(this,W)};o[x]=xn(b,t,_,w)}else m&&(t[`__${b}`]=void 0)}else if(y==="style"&&g!=null)t.style.cssText=g+"";else if(y==="autofocus")kn(t,!!g);else if(y==="__value"||y==="value"&&g!=null)t.value=t[y]=t.__value=g;else if(y==="selected"&&c)Xn(t,g);else{var v=y;s||(v=wn(v));var k=v==="defaultValue"||v==="defaultChecked";if(g==null&&!r&&!k)if(p[y]=null,v==="value"||v==="checked"){let w=t;if(v==="value"){let x=w.defaultValue;w.removeAttribute(v),w.defaultValue=x}else{let x=w.defaultChecked;w.removeAttribute(v),w.defaultChecked=x}}else t.removeAttribute(y);else k||h.includes(v)&&(r||typeof g!="string")?t[v]=g:typeof g!="function"&&Le(t,v,g)}y==="style"&&"__styles"in t&&(t.__styles={})}}}return o}var xt=new Map;function qt(t){var e=xt.get(t.nodeName);if(e)return e;xt.set(t.nodeName,e=[]);for(var n,i=t,s=Element.prototype;s!==i;){n=Wn(i);for(var r in n)n[r].set&&e.push(r);i=Vn(i)}return e}function ye(t,e,n){if(n){if(t.classList.contains(e))return;t.classList.add(e)}else{if(!t.classList.contains(e))return;t.classList.remove(e)}}function ve(t,e,n,i){var s=t.__styles??(t.__styles={});s[e]!==n&&(s[e]=n,n==null?t.style.removeProperty(e):t.style.setProperty(e,n,""))}function Gn(t,e,n=e){var i=qn();Sn(t,"input",s=>{var r=s?t.defaultValue:t.value;if(r=je(t)?Ue(r):r,n(r),i&&r!==(r=e())){var l=t.selectionStart,o=t.selectionEnd;t.value=r??"",o!==null&&(t.selectionStart=l,t.selectionEnd=Math.min(o,t.value.length))}}),Pn(e)==null&&t.value&&n(je(t)?Ue(t.value):t.value),Dn(()=>{var s=e();je(t)&&s===Ue(t.value)||t.type==="date"&&!s&&!t.value||s!==t.value&&(t.value=s??"")})}function je(t){var e=t.type;return e==="number"||e==="range"}function Ue(t){return t===""?null:+t}const Zn=t=>t.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(""),$n=t=>Bn(t.replace(/([A-Z])/g," $1").trim()),Pt=t=>Zn($n(t)),Ce="storybook-stories-extractor-context";function Dt(t){let e=L(t.isExtracting),n=L(t.register);return{get isExtracting(){return e},get register(){return n}}}function ei(t){const{stories:e}=t,n=Dt({isExtracting:!0,register:i=>{e.set(i.exportName??Pt(i.name),i)}});Ne(Ce,n)}function ti(){return st(Ce)||Ne(Ce,Dt({isExtracting:!1,register:()=>{}})),rt(Ce)}const Ye="storybook-story-renderer-context";function ni(t){let e=ee(L(t.currentStoryExportName)),n=ee(L(t.args)),i=ee(L(t.storyContext));function s(r){F(e,L(r.currentStoryExportName)),F(n,L(r.args)),F(i,L(r.storyContext))}return{get args(){return d(n)},get storyContext(){return d(i)},get currentStoryExportName(){return d(e)},set:s}}function ii(){const t=ni({currentStoryExportName:void 0,args:{},storyContext:{}});Ne(Ye,t)}function Bt(){return st(Ye)||ii(),rt(Ye)}const Ke="storybook-stories-template-snippet-context";function si(){let t=ee(void 0);function e(n){F(t,L(n))}return{get template(){return d(t)},set:e}}function ri(){return st(Ke)||Ne(Ke,si()),rt(Ke).template}var ai=se('<p>No story rendered. See <a href="https://github.com/storybookjs/addon-svelte-csf#defining-stories" target="_blank">the docs</a> on how to define stories.</p>');function Ft(t,e){G(e,!0);const n=Ze(e,["$$slots","$$events","$$legacy","children","name","exportName","play"]),i=e.exportName??Pt(e.name),s=ti(),r=Bt(),l=ri(),o=V(()=>!s.isExtracting&&r.currentStoryExportName===i);s.isExtracting&&s.register({children:e.children,name:e.name,exportName:i,play:e.play,...n});function c(u,a){a&&u.playFunction&&(u.playFunction.__play=a)}we(()=>{d(o)&&c(r.storyContext,e.play)});var f=H(),h=j(f);{var p=u=>{var a=H(),m=j(a);{var v=y=>{var g=H(),w=j(g);Vt(w,()=>e.children,()=>r.args,()=>r.storyContext),T(y,g)},k=y=>{var g=H(),w=j(g);{var x=_=>{l(_,()=>r.args,()=>r.storyContext)},b=_=>{var W=H(),B=j(W);{var A=z=>{var N=H(),S=j(N);$e(S,()=>r.storyContext.component,(C,q)=>{q(C,et(()=>r.args))}),T(z,N)},U=z=>{var N=ai();T(z,N)};de(B,z=>{r.storyContext.component?z(A):z(U,!1)},!0)}T(_,W)};de(w,_=>{l?_(x):_(b,!1)},!0)}T(y,g)};de(m,y=>{e.children?y(v):y(k,!1)})}T(u,a)};de(h,u=>{d(o)&&u(p)})}T(t,f),Z()}Ft.__docgen={data:[],name:"Story.svelte"};function oi(t){return{Story:Ft}}const dt=t=>Object.keys(t).reduce((e,n)=>{const i=t[n];return i==null?e:e+`${n}:${i};`},""),li=(t,e)=>"_"+e;function*ci([t,e]){for(let n=t;n<=e;n++)yield n}const he=null,{min:ue,max:re,abs:kt,floor:di}=Math,jt=(t,e,n)=>ue(n,re(e,t)),ui=t=>[...t].sort((e,n)=>e-n),fi=typeof queueMicrotask=="function"?queueMicrotask:t=>{Promise.resolve().then(t)},ut=t=>{let e,n;return()=>(e||(e=!0,n=t()),n)},fe=-1,Ae=(t,e,n)=>{const i=n?"unshift":"push";for(let s=0;s<e;s++)t[i](fe);return t},ze=(t,e)=>{const n=t.t[e];return n===fe?t.o:n},yi=(t,e,n)=>{const i=t.t[e]===fe;return t.t[e]=n,t.i=ue(e,t.i),i},Me=(t,e)=>{if(!t.l)return 0;if(t.i>=e)return t.u[e];t.i<0&&(t.u[0]=0,t.i=0);let n=t.i,i=t.u[n];for(;n<e;)i+=ze(t,n),t.u[++n]=i;return t.i=e,i},ce=(t,e,n=0,i=t.l-1)=>{for(;n<=i;){const s=di((n+i)/2),r=Me(t,s);if(r<=e){if(r+ze(t,s)>e)return s;n=s+1}else i=s-1}return jt(n,0,t.l-1)},wt=(t,e,n)=>{const i=e-t.l;return t.i=n?-1:ue(e-1,t.i),t.l=e,i>0?(Ae(t.u,i),Ae(t.t,i,n),t.o*i):(t.u.splice(i),(n?t.t.splice(0,-i):t.t.splice(i)).reduce((s,r)=>s-(r===fe?t.o:r),0))},pi=typeof window<"u",Ut=()=>document.documentElement,hi=t=>t.ownerDocument,gi=t=>t.defaultView,Kt=ut(()=>!!pi&&getComputedStyle(Ut()).direction==="rtl"),Ht=ut(()=>/iP(hone|od|ad)/.test(navigator.userAgent)),mi=ut(()=>"scrollBehavior"in Ut().style),vi=5,bi=6,xi=1,ki=4,wi=8,_i=t=>re(t.$getTotalSize(),t.$getViewportSize()),Si=t=>!!t.$getViewportSize(),Ei=(t,e=40,n=4,i=0,s,r=!1)=>{let l=!!i,o=[],c=0,f=0,h=0,p=0,u=0,a=0,m=0,v=0,k=0,y=l?[0,re(i-1,0)]:he,g=[0,0],w=0;const x=((S,C,q)=>({o:C,t:Ae([],S),l:S,i:-1,u:Ae([],S)}))(t,e),b=new Set,_=()=>h-f,W=()=>_()+a+u,B=S=>((C,q,Y,I)=>{if(I=ue(I,C.l-1),Me(C,I)<=q){const O=ce(C,q+Y,I);return[ce(C,q,I,O),O]}{const O=ce(C,q,void 0,I);return[O,ce(C,q+Y,O)]}})(x,S,c,g[0]),A=()=>(S=>S.l?Me(S,S.l-1)+ze(S,S.l-1):0)(x),U=S=>Me(x,S)-a,z=S=>ze(x,S),N=S=>{S&&(Ht()&&v!==0?a+=S:(u+=S,p++))};return{$getStateVersion:()=>o,$getCacheSnapshot:()=>(S=>[S.t.slice(),S.o])(x),$getRange:()=>{if(m)return g;let[S,C]=B(re(0,W()));return y&&(S=ue(S,y[0]),C=re(C,y[1])),v!==1&&(S-=re(0,n)),v!==2&&(C+=re(0,n)),g=[re(S,0),ue(C,x.l-1)]},$findStartIndex:()=>ce(x,W()),$findEndIndex:()=>ce(x,W()+c),$isUnmeasuredItem:S=>x.t[S]===fe,$:()=>!!y&&x.t.slice(re(0,y[0]-1),ue(x.l-1,y[1]+1)+1).includes(fe),$getItemOffset:U,$getItemSize:z,$getItemsLength:()=>x.l,$getScrollOffset:()=>h,$isScrolling:()=>v!==0,$getViewportSize:()=>c,$getStartSpacerSize:()=>f,$getTotalSize:A,$getJumpCount:()=>p,h:()=>(m=u,u=0,[m,k===2||_()+c>=A()]),$subscribe:(S,C)=>{const q=[S,C];return b.add(q),()=>{b.delete(q)}},$update:(S,C)=>{let q,Y,I=0;switch(S){case 1:{const O=m;m=0;const R=C-h,P=kt(R);O&&P<kt(O)+1||k!==0||(v=R<0?2:1),l&&(y=he,l=!1),h=C,I=4;const Q=_();Q>=-c&&Q<=A()&&(I+=1,Y=P>c);break}case 2:I=8,v!==0&&(q=!0,I+=1),v=0,k=0,y=he;break;case 3:{const O=C.filter(([R,P])=>x.t[R]!==P);if(!O.length)break;N(O.reduce((R,[P,Q])=>((k===2||(y?!l&&P<y[0]:U(P)+(v===0&&k===0?z(P):0)<_()))&&(R+=Q-z(P)),R),0));for(const[R,P]of O){const Q=z(R),K=yi(x,R,P);r&&(w+=K?P:P-Q)}r&&c&&w>c&&(N(((R,P)=>{let Q=0;const K=[];R.t.forEach((Se,M)=>{Se!==fe&&(K.push(Se),M<P&&Q++)}),R.i=-1;const te=ui(K),oe=te.length,le=oe/2|0,me=oe%2==0?(te[le-1]+te[le])/2:te[le],We=R.o;return((R.o=me)-We)*re(P-Q,0)})(x,ce(x,W()))),r=!1),I=3,Y=!0;break}case 4:c!==C&&(c=C,I=3);break;case 5:C[1]?(N(wt(x,C[0],!0)),k=2,I=1):(wt(x,C[0]),I=1);break;case 6:f=C;break;case 7:k=1;break;case 8:y=B(C),I=1}I&&(o=[],q&&a&&(u+=a,a=0,p++),b.forEach(([O,R])=>{I&O&&R(Y)}))}}},Qe=setTimeout,Ie=(t,e)=>e&&Kt()?-t:t,Ci=(t,e,n,i,s,r)=>{const l=Date.now;let o=0,c=!1,f=!1,h=!1,p=!1;const u=(()=>{let y;const g=()=>{y!=he&&clearTimeout(y)},w=()=>{g(),y=Qe(()=>{y=he,(()=>{if(c||f)return c=!1,void u();h=!1,t.$update(2)})()},150)};return w.p=g,w})(),a=()=>{o=l(),h&&(p=!0),t.$update(1,i()),u()},m=y=>{if(c||!t.$isScrolling()||y.ctrlKey)return;const g=l()-o;150>g&&50<g&&(n?y.deltaX:y.deltaY)&&(c=!0)},v=()=>{f=!0,h=p=!1},k=()=>{f=!1,Ht()&&(h=!0)};return e.addEventListener("scroll",a),e.addEventListener("wheel",m,{passive:!0}),e.addEventListener("touchstart",v,{passive:!0}),e.addEventListener("touchend",k,{passive:!0}),{m:()=>{e.removeEventListener("scroll",a),e.removeEventListener("wheel",m),e.removeEventListener("touchstart",v),e.removeEventListener("touchend",k),u.p()},v:()=>{const[y,g]=t.h();y&&(s(Ie(y,n),g,p),p=!1,g&&t.$getViewportSize()>t.$getTotalSize()&&t.$update(1,i()))}}},Mi=(t,e)=>{let n,i,s;const r=e?"scrollLeft":"scrollTop",l=e?"overflowX":"overflowY",o=async(c,f)=>{if(!n)return void fi(()=>o(c,f));s&&s();const h=()=>{let p;return[new Promise((u,a)=>{p=u,s=a,Si(t)&&Qe(a,150)}),t.$subscribe(2,()=>{p&&p()})]};if(f&&mi()){for(;t.$update(8,c()),t.$();){const[p,u]=h();try{await p}catch{return}finally{u()}}n.scrollTo({[e?"left":"top"]:Ie(c(),e),behavior:"smooth"})}else for(;;){const[p,u]=h();try{n[r]=Ie(c(),e),t.$update(7),await p}catch{return}finally{u()}}};return{$observe(c){n=c,i=Ci(t,c,e,()=>Ie(c[r],e),(f,h,p)=>{if(p){const u=c.style,a=u[l];u[l]="hidden",Qe(()=>{u[l]=a})}h?(c[r]=t.$getScrollOffset()+f,s&&s()):c[r]+=f})},$dispose(){i&&i.m()},$scrollTo(c){o(()=>c)},$scrollBy(c){c+=t.$getScrollOffset(),o(()=>c)},$scrollToIndex(c,{align:f,smooth:h,offset:p=0}={}){if(c=jt(c,0,t.$getItemsLength()-1),f==="nearest"){const u=t.$getItemOffset(c),a=t.$getScrollOffset();if(u<a)f="start";else{if(!(u+t.$getItemSize(c)>a+t.$getViewportSize()))return;f="end"}}o(()=>p+t.$getStartSpacerSize()+t.$getItemOffset(c)+(f==="end"?t.$getItemSize(c)-t.$getViewportSize():f==="center"?(t.$getItemSize(c)-t.$getViewportSize())/2:0),h)},$fixScrollJump:()=>{i&&i.v()}}},Ii=t=>{let e;return{S(n){(e||(e=new(gi(hi(n))).ResizeObserver(t))).observe(n)},I(n){e.unobserve(n)},m(){e&&e.disconnect()}}},Ti=(t,e)=>{let n;const i=e?"width":"height",s=new WeakMap,r=Ii(l=>{const o=[];for(const{target:c,contentRect:f}of l)if(c.offsetParent)if(c===n)t.$update(4,f[i]);else{const h=s.get(c);h!=he&&o.push([h,f[i]])}o.length&&t.$update(3,o)});return{$observeRoot(l){r.S(n=l)},$observeItem:(l,o)=>(s.set(l,o),r.S(l),()=>{s.delete(l),r.I(l)}),$dispose:r.m}};function Jt(t,e){G(e,!0);let n=E(e,"as",3,"div"),i,s,r;we(()=>{r!==e.index&&(s&&s(),s=e.resizer(i,r=e.index))}),at(()=>{s&&s()});let l=V(()=>{const f={position:"absolute",[e.horizontal?"height":"width"]:"100%",[e.horizontal?"top":"left"]:"0px",[e.horizontal?Kt()?"right":"left":"top"]:e.offset+"px",visibility:e.hide?"hidden":"visible"};return e.horizontal&&(f.display="flex"),dt(f)});var o=H(),c=j(o);ct(c,n,!1,(f,h)=>{xe(f,m=>i=m,()=>i);let p;J(()=>p=_e(f,p,{style:d(l)},void 0,f.namespaceURI===Re,f.nodeName.includes("-")));var u=H(),a=j(u);Vt(a,()=>e.children,()=>e.item,()=>e.index),T(h,u)}),T(t,o),Z()}Jt.__docgen={data:[{name:"children",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"function",text:"Snippet<[item: T, index: number]>"},static:!1,readonly:!1},{name:"item",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",static:!1,readonly:!1},{name:"as",visibility:"public",keywords:[],kind:"let",type:{kind:"union",type:[{kind:"type",type:"string",text:"string"},{kind:"type",type:"number",text:"number"}],text:"string | number"},static:!1,readonly:!1,defaultValue:'"div"'},{name:"index",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1},{name:"offset",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1},{name:"hide",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1},{name:"horizontal",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1},{name:"resizer",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"any",text:"any"},static:!1,readonly:!1}],name:"ListItem.svelte"};function Yt(t,e){G(e,!0);let n=E(e,"getKey",3,li),i=E(e,"as",3,"div"),s=E(e,"shift",3,!1),r=E(e,"horizontal",3,!1),l=E(e,"startMargin",3,0);const o=Ei(e.data.length,e.itemSize,e.overscan,void 0,void 0,!e.itemSize),c=Ti(o,r()),f=Mi(o,r()),h=o.$subscribe(xi,()=>{F(m,L(o.$getStateVersion()))}),p=o.$subscribe(ki,()=>{e.onscroll&&e.onscroll(o.$getScrollOffset())}),u=o.$subscribe(wi,()=>{e.onscrollend&&e.onscrollend()});let a=ee(void 0),m=ee(L(o.$getStateVersion())),v=V(()=>d(m)&&o.$getRange()),k=V(()=>d(m)&&o.$isScrolling()),y=V(()=>d(m)&&o.$getTotalSize()),g=V(()=>d(m)&&o.$getJumpCount());Nt(()=>{const I=O=>{c.$observeRoot(O),f.$observe(O)};e.scrollRef?I(e.scrollRef):I(d(a).parentElement)}),at(()=>{h(),p(),u(),c.$dispose(),f.$dispose()}),gt(()=>{e.data.length!==o.$getItemsLength()&&o.$update(vi,[e.data.length,s()])}),gt(()=>{l()!==o.$getStartSpacerSize()&&o.$update(bi,l())});let w;we(()=>{w!==d(g)&&(w=d(g),f.$fixScrollJump())});const x=o.$getScrollOffset,b=()=>_i(o),_=o.$getViewportSize,W=o.$findStartIndex,B=o.$findEndIndex,A=o.$getItemOffset,U=o.$getItemSize,z=f.$scrollToIndex,N=f.$scrollTo,S=f.$scrollBy;let C=V(()=>dt({"overflow-anchor":"none",flex:"none",position:"relative",visibility:"hidden",width:r()?d(y)+"px":"100%",height:r()?"100%":d(y)+"px","pointer-events":d(k)?"none":void 0}));var q=H(),Y=j(q);return ct(Y,i,!1,(I,O)=>{xe(I,K=>F(a,L(K)),()=>d(a));let R;J(()=>R=_e(I,R,{style:d(C)},void 0,I.namespaceURI===Re,I.nodeName.includes("-")));var P=H(),Q=j(P);Ve(Q,17,()=>ci(d(v)),K=>n()(e.data[K],K),(K,te)=>{const oe=V(()=>e.data[d(te)]);var le=V(()=>d(m)&&o.$getItemOffset(d(te))),me=V(()=>d(m)&&o.$isUnmeasuredItem(d(te)));Jt(K,{get children(){return e.children},get item(){return d(oe)},get index(){return d(te)},get as(){return e.item},get offset(){return d(le)},get hide(){return d(me)},get horizontal(){return r()},get resizer(){return c.$observeItem}})}),T(O,P)}),T(t,q),Z({getScrollOffset:x,getScrollSize:b,getViewportSize:_,findStartIndex:W,findEndIndex:B,getItemOffset:A,getItemSize:U,scrollToIndex:z,scrollTo:N,scrollBy:S})}Yt.__docgen={data:[{name:"data",visibility:"public",description:"The data items rendered by this component.",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"array",text:"T[]"},static:!1,readonly:!1},{name:"children",visibility:"public",description:"The elements renderer snippet.",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"function",text:"Snippet<[item: T, index: number]>"},static:!1,readonly:!1},{name:"getKey",visibility:"public",description:"Function that returns the key of an item in the list. It's recommended to specify whenever possible for performance.",keywords:[],kind:"let",type:{kind:"function",text:"(data: T, index: number) => string | number"},static:!1,readonly:!1,defaultValue:"function"},{name:"as",visibility:"public",description:"Component or element type for container element.",keywords:[],kind:"let",type:{kind:"union",type:[{kind:"type",type:"string",text:"string"},{kind:"type",type:"number",text:"number"}],text:"string | number"},static:!1,readonly:!1,defaultValue:'"div"'},{name:"item",visibility:"public",description:"Component or element type for item element.",keywords:[],kind:"let",type:{kind:"union",type:[{kind:"type",type:"string",text:"string"},{kind:"type",type:"number",text:"number"}],text:"string | number"},static:!1,readonly:!1},{name:"overscan",visibility:"public",description:"Number of items to render above/below the visible bounds of the list. You can increase to avoid showing blank items in fast scrolling.",keywords:[],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1},{name:"scrollRef",visibility:"public",description:"Reference to the scrollable element. The default will get the direct parent element of virtualizer.",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"HTMLElement"},static:!1,readonly:!1},{name:"itemSize",visibility:"public",description:`Item size hint for unmeasured items. It will help to reduce scroll jump when items are measured if used properly.

- If not set, initial item sizes will be automatically estimated from measured sizes. This is recommended for most cases.
- If set, you can opt out estimation and use the value as initial item size.`,keywords:[],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1},{name:"shift",visibility:"public",description:"While true is set, scroll position will be maintained from the end not usual start when items are added to/removed from start. It's recommended to set false if you add to/remove from mid/end of the list because it can cause unexpected behavior. This prop is useful for reverse infinite scrolling.",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"horizontal",visibility:"public",description:"If true, rendered as a horizontally scrollable list. Otherwise rendered as a vertically scrollable list.",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"startMargin",visibility:"public",description:"If you put an element before virtualizer, you have to define its height with this prop.",keywords:[],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1,defaultValue:"0"},{name:"onscroll",visibility:"public",description:"Callback invoked whenever scroll offset changes.",keywords:[],kind:"let",type:{kind:"function",text:"(offset: number) => void"},static:!1,readonly:!1},{name:"onscrollend",visibility:"public",description:"Callback invoked when scrolling stops.",keywords:[],kind:"let",type:{kind:"function",text:"() => void"},static:!1,readonly:!1}],name:"Virtualizer.svelte"};var Li=se("<div><!></div>");function Qt(t,e){G(e,!0);let n=Ze(e,["$$slots","$$events","$$legacy","data","getKey","overscan","itemSize","shift","horizontal","children","onscroll","onscrollend"]),i=ee(void 0);const s=()=>d(i).getScrollOffset(),r=()=>d(i).getScrollSize(),l=()=>d(i).getViewportSize(),o=()=>d(i).findStartIndex(),c=()=>d(i).findEndIndex(),f=(...g)=>d(i).getItemOffset(...g),h=(...g)=>d(i).getItemSize(...g),p=(...g)=>d(i).scrollToIndex(...g),u=(...g)=>d(i).scrollTo(...g),a=(...g)=>d(i).scrollBy(...g),m=dt({display:e.horizontal?"inline-block":"block",[e.horizontal?"overflow-x":"overflow-y"]:"auto",contain:"strict",width:"100%",height:"100%"});var v=Li();let k;var y=$(v);return xe(Yt(y,{get data(){return e.data},get children(){return e.children},get getKey(){return e.getKey},get overscan(){return e.overscan},get itemSize(){return e.itemSize},get shift(){return e.shift},get horizontal(){return e.horizontal},get onscroll(){return e.onscroll},get onscrollend(){return e.onscrollend}}),g=>F(i,L(g)),()=>d(i)),J(()=>k=_e(v,k,{...n,style:`${m??""} ${(e.style||"")??""}`})),T(t,v),Z({getScrollOffset:s,getScrollSize:r,getViewportSize:l,findStartIndex:o,findEndIndex:c,getItemOffset:f,getItemSize:h,scrollToIndex:p,scrollTo:u,scrollBy:a})}Qt.__docgen={data:[{name:"data",visibility:"public",description:"The data items rendered by this component.",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"array",text:"T[]"},static:!1,readonly:!1},{name:"getKey",visibility:"public",description:"Function that returns the key of an item in the list. It's recommended to specify whenever possible for performance.",keywords:[],kind:"let",type:{kind:"function",text:"(data: T, index: number) => string | number"},static:!1,readonly:!1},{name:"overscan",visibility:"public",description:"Number of items to render above/below the visible bounds of the list. You can increase to avoid showing blank items in fast scrolling.",keywords:[],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1},{name:"itemSize",visibility:"public",description:`Item size hint for unmeasured items. It will help to reduce scroll jump when items are measured if used properly.

- If not set, initial item sizes will be automatically estimated from measured sizes. This is recommended for most cases.
- If set, you can opt out estimation and use the value as initial item size.`,keywords:[],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1},{name:"shift",visibility:"public",description:"While true is set, scroll position will be maintained from the end not usual start when items are added to/removed from start. It's recommended to set false if you add to/remove from mid/end of the list because it can cause unexpected behavior. This prop is useful for reverse infinite scrolling.",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1},{name:"horizontal",visibility:"public",description:"If true, rendered as a horizontally scrollable list. Otherwise rendered as a vertically scrollable list.",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1},{name:"children",visibility:"public",description:"The elements renderer snippet.",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"function",text:"Snippet<[item: T, index: number]>"},static:!1,readonly:!1},{name:"onscroll",visibility:"public",description:"Callback invoked whenever scroll offset changes.",keywords:[],kind:"let",type:{kind:"function",text:"(offset: number) => void"},static:!1,readonly:!1},{name:"onscrollend",visibility:"public",description:"Callback invoked when scrolling stops.",keywords:[],kind:"let",type:{kind:"function",text:"() => void"},static:!1,readonly:!1},{name:"class",visibility:"public",keywords:[],kind:"let",type:{kind:"union",type:[{kind:"type",type:"string",text:"string"},{kind:"type",type:"array",text:"ClassArray"},{kind:"type",type:"object",text:"ClassDictionary"}],text:"string | ClassArray | ClassDictionary"},static:!1,readonly:!1},{name:"style",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"id",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"role",visibility:"public",keywords:[],kind:"let",type:{kind:"union",type:[{kind:"const",type:"string",value:"alert",text:'"alert"'},{kind:"const",type:"string",value:"alertdialog",text:'"alertdialog"'},{kind:"const",type:"string",value:"application",text:'"application"'},{kind:"const",type:"string",value:"article",text:'"article"'},{kind:"const",type:"string",value:"banner",text:'"banner"'},{kind:"const",type:"string",value:"button",text:'"button"'},{kind:"const",type:"string",value:"cell",text:'"cell"'},{kind:"const",type:"string",value:"checkbox",text:'"checkbox"'},{kind:"const",type:"string",value:"columnheader",text:'"columnheader"'},{kind:"const",type:"string",value:"combobox",text:'"combobox"'},{kind:"const",type:"string",value:"complementary",text:'"complementary"'},{kind:"const",type:"string",value:"contentinfo",text:'"contentinfo"'},{kind:"const",type:"string",value:"definition",text:'"definition"'},{kind:"const",type:"string",value:"dialog",text:'"dialog"'},{kind:"const",type:"string",value:"directory",text:'"directory"'},{kind:"const",type:"string",value:"document",text:'"document"'},{kind:"const",type:"string",value:"feed",text:'"feed"'},{kind:"const",type:"string",value:"figure",text:'"figure"'},{kind:"const",type:"string",value:"form",text:'"form"'},{kind:"const",type:"string",value:"grid",text:'"grid"'},{kind:"const",type:"string",value:"gridcell",text:'"gridcell"'},{kind:"const",type:"string",value:"group",text:'"group"'},{kind:"const",type:"string",value:"heading",text:'"heading"'},{kind:"const",type:"string",value:"img",text:'"img"'},{kind:"const",type:"string",value:"link",text:'"link"'},{kind:"const",type:"string",value:"list",text:'"list"'},{kind:"const",type:"string",value:"listbox",text:'"listbox"'},{kind:"const",type:"string",value:"listitem",text:'"listitem"'},{kind:"const",type:"string",value:"log",text:'"log"'},{kind:"const",type:"string",value:"main",text:'"main"'},{kind:"const",type:"string",value:"marquee",text:'"marquee"'},{kind:"const",type:"string",value:"math",text:'"math"'},{kind:"const",type:"string",value:"menu",text:'"menu"'},{kind:"const",type:"string",value:"menubar",text:'"menubar"'},{kind:"const",type:"string",value:"menuitem",text:'"menuitem"'},{kind:"const",type:"string",value:"menuitemcheckbox",text:'"menuitemcheckbox"'},{kind:"const",type:"string",value:"menuitemradio",text:'"menuitemradio"'},{kind:"const",type:"string",value:"navigation",text:'"navigation"'},{kind:"const",type:"string",value:"none",text:'"none"'},{kind:"const",type:"string",value:"note",text:'"note"'},{kind:"const",type:"string",value:"option",text:'"option"'},{kind:"const",type:"string",value:"presentation",text:'"presentation"'},{kind:"const",type:"string",value:"progressbar",text:'"progressbar"'},{kind:"const",type:"string",value:"radio",text:'"radio"'},{kind:"const",type:"string",value:"radiogroup",text:'"radiogroup"'},{kind:"const",type:"string",value:"region",text:'"region"'},{kind:"const",type:"string",value:"row",text:'"row"'},{kind:"const",type:"string",value:"rowgroup",text:'"rowgroup"'},{kind:"const",type:"string",value:"rowheader",text:'"rowheader"'},{kind:"const",type:"string",value:"scrollbar",text:'"scrollbar"'},{kind:"const",type:"string",value:"search",text:'"search"'},{kind:"const",type:"string",value:"searchbox",text:'"searchbox"'},{kind:"const",type:"string",value:"separator",text:'"separator"'},{kind:"const",type:"string",value:"slider",text:'"slider"'},{kind:"const",type:"string",value:"spinbutton",text:'"spinbutton"'},{kind:"const",type:"string",value:"status",text:'"status"'},{kind:"const",type:"string",value:"switch",text:'"switch"'},{kind:"const",type:"string",value:"tab",text:'"tab"'},{kind:"const",type:"string",value:"table",text:'"table"'},{kind:"const",type:"string",value:"tablist",text:'"tablist"'},{kind:"const",type:"string",value:"tabpanel",text:'"tabpanel"'},{kind:"const",type:"string",value:"term",text:'"term"'},{kind:"const",type:"string",value:"textbox",text:'"textbox"'},{kind:"const",type:"string",value:"timer",text:'"timer"'},{kind:"const",type:"string",value:"toolbar",text:'"toolbar"'},{kind:"const",type:"string",value:"tooltip",text:'"tooltip"'},{kind:"const",type:"string",value:"tree",text:'"tree"'},{kind:"const",type:"string",value:"treegrid",text:'"treegrid"'},{kind:"const",type:"string",value:"treeitem",text:'"treeitem"'},{kind:"type",type:"intersection",text:"string & {}"}],text:'"alert" | "alertdialog" | "application" | "article" | "banner" | "button" | "cell" | "checkbox" | "columnheader" | "combobox" | "complementary" | "contentinfo" | "definition" | "dialog" | "directory" | "document" | "feed" | "figure" | "form" | "grid" | "gridcell" | "group" | "heading" | "img" | "link" | "list" | "listbox" | "listitem" | "log" | "main" | "marquee" | "math" | "menu" | "menubar" | "menuitem" | "menuitemcheckbox" | "menuitemradio" | "navigation" | "none" | "note" | "option" | "presentation" | "progressbar" | "radio" | "radiogroup" | "region" | "row" | "rowgroup" | "rowheader" | "scrollbar" | "search" | "searchbox" | "separator" | "slider" | "spinbutton" | "status" | "switch" | "tab" | "table" | "tablist" | "tabpanel" | "term" | "textbox" | "timer" | "toolbar" | "tooltip" | "tree" | "treegrid" | "treeitem" | string & {}'},static:!1,readonly:!1},{name:"tabindex",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1}],name:"VList.svelte"};class Xt{constructor(e){X(this,"url");X(this,"options");X(this,"onMessage");X(this,"onError");X(this,"reconnectTimer",null);this.url=e.url,this.options=e.options||{},this.onMessage=e.onMessage,this.onError=e.onError}handleConnectionError(e){console.error("Connection error:",e),this.onError&&this.onError(e)}formatMessageData(e){let n=e;if(typeof this.options.formatMessage=="function")n=this.options.formatMessage(e);else if(typeof e=="object")try{n=JSON.stringify(e)}catch(i){console.error("Failed to stringify message data:",i)}return n}}class Ai extends Xt{constructor(n){super({url:n.url,options:n.eventsourceOptions||{},onMessage:n.onMessage,onError:n.onError});X(this,"connection",null);X(this,"eventCount",0);X(this,"processingTimer",null);X(this,"messageQueue",[]);X(this,"emptyEventCounter",0);X(this,"maxEmptyEvents",100);this.options.maxEmptyEvents&&(this.maxEmptyEvents=this.options.maxEmptyEvents)}connect(){try{this.resetConnectionState(),this.initializeEventSource(),this.attachEventHandlers(),this.setupCustomListeners()}catch(n){console.error("Error setting up EventSource:",n),this.handleConnectionError(n instanceof Error?n:new Error(String(n)))}}resetConnectionState(){this.eventCount=0,this.emptyEventCounter=0}initializeEventSource(){this.connection=new EventSource(this.url,{withCredentials:this.options.withCredentials||!1})}attachEventHandlers(){this.connection&&(this.connection.onopen=this.handleOpen.bind(this),this.connection.onmessage=this.handleMessage.bind(this),this.connection.onerror=this.handleError.bind(this))}handleOpen(n){console.log("EventSource connection established."),typeof this.options.onOpen=="function"&&this.options.onOpen(n,this.connection)}handleMessage(n){if(this.isEmptyMessage(n.data)){this.handleEmptyMessage();return}this.emptyEventCounter=0,this.processMessage(n.data)}isEmptyMessage(n){return!n||n===":ok"||n.trim()===""}handleEmptyMessage(){this.emptyEventCounter++,this.emptyEventCounter>this.maxEmptyEvents&&(console.warn(`Received ${this.emptyEventCounter} consecutive empty events, disconnecting`),this.disconnect(),this.handleConnectionError(new Error(`EventSource disconnected after ${this.emptyEventCounter} empty events`)))}processMessage(n){const i=this.formatMessageData(n);!i||i.trim()===""||(this.updateEventCounter(),this.deliverMessage(i))}updateEventCounter(){this.eventCount++;const n=this.options.maxEvents;n!==void 0&&this.eventCount>=n&&(console.log(`Maximum events (${n}) reached, closing connection`),this.disconnect())}deliverMessage(n){const i=this.options.eventDelay;i!==void 0&&i>0?(this.messageQueue.push(n),this.processingTimer||this.processMessageQueue()):this.onMessage(n)}handleError(n){console.error("EventSource error:",n),typeof this.options.onError=="function"&&this.options.onError(n),this.handleConnectionError(new Error("EventSource connection error")),this.handleReconnection()}handleReconnection(){this.options.reconnect===!1?this.disconnect():this.options.reconnect===!0&&!this.connection&&this.scheduleReconnect()}scheduleReconnect(){const n=this.options.reconnectWait||1;console.log(`Attempting to reconnect in ${n}s...`),this.reconnectTimer=setTimeout(()=>{this.connect()},n*1e3)}setupCustomListeners(){this.options.onClose&&window.addEventListener("beforeunload",()=>{this.connection&&typeof this.options.onClose=="function"&&this.options.onClose(new Event("close"))})}addEventTypeListener(n,i){if(!this.connection){console.error("Cannot add event listener: EventSource is not connected");return}this.connection.addEventListener(n,i)}removeEventTypeListener(n,i){if(!this.connection){console.error("Cannot remove event listener: EventSource is not connected");return}this.connection.removeEventListener(n,i)}processMessageQueue(){if(this.messageQueue.length===0){this.processingTimer=null;return}const n=this.messageQueue.shift();n&&this.onMessage(n),this.processingTimer=setTimeout(()=>{this.processMessageQueue()},this.options.eventDelay||500)}disconnect(){this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.processingTimer&&(clearTimeout(this.processingTimer),this.processingTimer=null,this.messageQueue=[]),this.connection&&(this.connection.close(),this.connection=null)}isConnected(){return!!this.connection&&this.connection.readyState===EventSource.OPEN}}var zi=se('<span class="highlight svelte-1nox0uo"> </span>'),Ri=se('<span class="svelte-1nox0uo"></span>');function Gt(t,e){G(e,!0);const n=E(e,"searchText",3,""),i=E(e,"searchActive",3,!1),s=E(e,"partMatches",19,()=>[]),r=E(e,"activeMatch",3,null),l=E(e,"wrapLines",3,!1);function o(){if(!i()||!n()||!e.part.text)return[{text:e.part.text||"",isMatch:!1,isActiveMatch:!1,startIndex:0,endIndex:(e.part.text||"").length}];if(s().length===0)return[{text:e.part.text,isMatch:!1,isActiveMatch:!1,startIndex:0,endIndex:e.part.text.length}];const h=[...s()].sort((a,m)=>a.startIndex-m.startIndex),p=[];let u=0;for(const a of h){a.startIndex>u&&p.push({text:e.part.text.substring(u,a.startIndex),isMatch:!1,isActiveMatch:!1,startIndex:u,endIndex:a.startIndex});const m=r()!==null&&a.lineNumber===r().lineNumber&&a.partIndex===r().partIndex&&a.startIndex===r().startIndex;p.push({text:e.part.text.substring(a.startIndex,a.endIndex),isMatch:!0,isActiveMatch:m,startIndex:a.startIndex,endIndex:a.endIndex}),u=a.endIndex}return u<e.part.text.length&&p.push({text:e.part.text.substring(u),isMatch:!1,isActiveMatch:!1,startIndex:u,endIndex:e.part.text.length}),p}let c=V(o);var f=Ri();Ve(f,21,()=>d(c),ot,(h,p)=>{var u=H(),a=j(u);{var m=k=>{var y=zi(),g=$(y);J(()=>{ye(y,"active-match",d(p).isActiveMatch),ke(g,d(p).text)}),T(k,y)},v=k=>{var y=He();J(()=>ke(y,d(p).text)),T(k,y)};de(a,k=>{d(p).isMatch?k(m):k(v,!1)})}T(h,u)}),J(()=>{ye(f,"wrapped",l()),ve(f,"color",e.part.foreground),ve(f,"background-color",e.part.background),ve(f,"font-weight",e.part.bold?"bold":"normal"),ve(f,"font-style",e.part.italic?"italic":"normal"),ve(f,"text-decoration",e.part.underline?"underline":"none")}),T(t,f),Z()}Gt.__docgen={data:[{name:"part",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"object",text:"LineContent"},static:!1,readonly:!1},{name:"searchText",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'""'},{name:"searchActive",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"caseInsensitive",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1},{name:"isActiveMatch",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1},{name:"partMatches",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"array",text:"Match[]"},static:!1,readonly:!1,defaultValue:"[]"},{name:"isActiveMatchPart",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1},{name:"activeMatch",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"Match"},static:!1,readonly:!1,defaultValue:"null"},{name:"wrapLines",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"}],name:"log-viewer-line-part.svelte"};var Oi=se('<span class="line-content svelte-1i8tu7m"></span>');function Zt(t,e){G(e,!0);const n=E(e,"searchText",3,""),i=E(e,"searchActive",3,!1),s=E(e,"caseInsensitive",3,!1),r=E(e,"isActiveMatch",3,!1),l=E(e,"lineMatches",19,()=>[]),o=E(e,"activeMatch",3,null),c=E(e,"wrapLines",3,!1);function f(u){return l().filter(a=>a.partIndex===u)}function h(u){return o()!==null&&o().partIndex===u}var p=Oi();Ve(p,21,()=>e.content,ot,(u,a,m)=>{var v=V(()=>f(m)),k=V(()=>h(m)),y=V(()=>h(m)?o():null);Gt(u,{get part(){return d(a)},get searchText(){return n()},get searchActive(){return i()},get caseInsensitive(){return s()},get isActiveMatch(){return r()},get partMatches(){return d(v)},get isActiveMatchPart(){return d(k)},get activeMatch(){return d(y)},get wrapLines(){return c()}})}),J(()=>ye(p,"wrapped",c())),T(t,p),Z()}Zt.__docgen={data:[{name:"content",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"array",text:"LineContent[]"},static:!1,readonly:!1},{name:"searchText",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'""'},{name:"searchActive",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"caseInsensitive",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"isActiveMatch",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"lineMatches",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"array",text:"Match[]"},static:!1,readonly:!1,defaultValue:"[]"},{name:"activeMatch",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"Match"},static:!1,readonly:!1,defaultValue:"null"},{name:"wrapLines",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"}],name:"log-viewer-line-content.svelte"};var Ni=se('<a class="line-number svelte-f4oshs"> </a>');function $t(t,e){let n=E(e,"number",8),i=E(e,"highlighted",8,!1);var s=Ni(),r=$(s);J(()=>{Le(s,"href",`#L${n()}`),Le(s,"id",`L${n()}`),ye(s,"highlighted",i()),ke(r,n())}),T(t,s)}$t.__docgen={version:3,name:"log-viewer-line-number.svelte",data:[{name:"number",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1},{name:"highlighted",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"}],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};var Vi=se('<div class="line svelte-1ia9qjb"><!> <!></div>');function en(t,e){G(e,!0);const n=E(e,"highlighted",3,!1),i=E(e,"searchText",3,""),s=E(e,"searchActive",3,!1),r=E(e,"caseInsensitive",3,!1),l=E(e,"isActiveMatch",3,!1),o=E(e,"lineMatches",19,()=>[]),c=E(e,"activeMatch",3,null),f=E(e,"wrapLines",3,!1);var h=Vi(),p=$(h);$t(p,{get number(){return e.line.number},get highlighted(){return n()}});var u=ie(p,2);Zt(u,{get content(){return e.line.content},get searchText(){return i()},get searchActive(){return s()},get caseInsensitive(){return r()},get isActiveMatch(){return l()},get lineMatches(){return o()},get activeMatch(){return c()},get wrapLines(){return f()}}),J(()=>{ye(h,"highlighted",n()),ye(h,"wrapped",f())}),T(t,h),Z()}en.__docgen={data:[{name:"line",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"object",text:"LogLine"},static:!1,readonly:!1},{name:"highlighted",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"searchText",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'""'},{name:"searchActive",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"caseInsensitive",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"isActiveMatch",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"lineMatches",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"array",text:"Match[]"},static:!1,readonly:!1,defaultValue:"[]"},{name:"activeMatch",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"Match"},static:!1,readonly:!1,defaultValue:"null"},{name:"wrapLines",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"}],name:"log-viewer-line.svelte"};/**
 * @license lucide-svelte v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var qi=En("<svg><!><!></svg>");function ft(t,e){const n=Te(e,["children","$$slots","$$events","$$legacy"]),i=Te(n,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);G(e,!1);let s=E(e,"name",8,void 0),r=E(e,"color",8,"currentColor"),l=E(e,"size",8,24),o=E(e,"strokeWidth",8,2),c=E(e,"absoluteStrokeWidth",8,!1),f=E(e,"iconNode",24,()=>[]);const h=(...v)=>v.filter((k,y,g)=>!!k&&g.indexOf(k)===y).join(" ");Tt();var p=qi();let u;var a=$(p);Ve(a,1,f,ot,(v,k)=>{let y=()=>d(k)[0],g=()=>d(k)[1];var w=H(),x=j(w);ct(x,y,!0,(b,_)=>{let W;J(()=>W=_e(b,W,{...g()},void 0,b.namespaceURI===Re,b.nodeName.includes("-")))}),T(v,w)});var m=ie(a);lt(m,e,"default",{}),J(()=>u=_e(p,u,{...Wi,...i,width:l(),height:l(),stroke:r(),"stroke-width":c()?Number(o())*24/Number(l()):o(),class:h("lucide-icon","lucide",s()?`lucide-${s()}`:"",n.class)},void 0,!0)),T(t,p),Z()}ft.__docgen={version:3,name:"Icon.svelte",data:[{name:"name",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"other",text:"undefined"},static:!1,readonly:!1},{name:"color",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'"currentColor"'},{name:"size",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1,defaultValue:"24"},{name:"strokeWidth",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1,defaultValue:"2"},{name:"absoluteStrokeWidth",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"iconNode",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"array",text:"any[]"},static:!1,readonly:!1,defaultValue:"[]"}],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[{keywords:[],visibility:"public",description:"",name:"default"}],refs:[]};function tn(t,e){const n=Te(e,["children","$$slots","$$events","$$legacy"]);ft(t,et({name:"down-arrow"},()=>n,{iconNode:[["path",{d:"M12 5v14"}],["path",{d:"m19 12-7 7-7-7"}]],children:(s,r)=>{var l=H(),o=j(l);lt(o,e,"default",{}),T(s,l)},$$slots:{default:!0}}))}tn.__docgen={version:3,name:"down-arrow.svelte",data:[],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[{keywords:[],visibility:"public",description:"",name:"default"}],refs:[]};function nn(t,e){const n=Te(e,["children","$$slots","$$events","$$legacy"]);ft(t,et({name:"up-arrow"},()=>n,{iconNode:[["path",{d:"m5 12 7-7 7 7"}],["path",{d:"M12 19V5"}]],children:(s,r)=>{var l=H(),o=j(l);lt(o,e,"default",{}),T(s,l)},$$slots:{default:!0}}))}nn.__docgen={version:3,name:"up-arrow.svelte",data:[],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[{keywords:[],visibility:"public",description:"",name:"default"}],refs:[]};function Pi(t,e,n,i){const s=t.target.value;(s===""||s.length>=e())&&n()({value:s,caseInsensitive:i()})}function Di(t,e,n){t.key==="Enter"&&(t.shiftKey?e()():n()())}function Bi(t,e){e()()}function Fi(t,e){e()()}var ji=se('<span class="results-counter svelte-uw3pl5"><!></span> <div class="navigation-buttons svelte-uw3pl5"><button title="Previous match (Shift+Enter)" aria-label="Previous search result" class="svelte-uw3pl5"><!></button> <button title="Next match (Enter)" aria-label="Next search result" class="svelte-uw3pl5"><!></button></div>',1),Ui=se('<div class="svelte-lazylog-searchbar svelte-uw3pl5"><div class="search-input-container svelte-uw3pl5"><input type="text" placeholder="Search..." class="search-input svelte-uw3pl5"></div> <!></div>');function sn(t,e){G(e,!0);let n=E(e,"searchText",7,""),i=E(e,"caseInsensitive",3,!1),s=E(e,"totalResults",3,0),r=E(e,"currentResult",3,0),l=E(e,"searchMinCharacters",3,3),o=E(e,"onsearch",3,({value:k,caseInsensitive:y})=>{}),c=E(e,"onnextResult",3,()=>{}),f=E(e,"onpreviousResult",3,()=>{}),h=V(()=>s()>0?`${r()+1} of ${s()}`:"0 matches");var p=Ui(),u=$(p),a=$(u);a.__input=[Pi,l,o,i],a.__keydown=[Di,f,c];var m=ie(u,2);{var v=k=>{var y=ji(),g=j(y),w=$(g);{var x=z=>{var N=He();J(()=>ke(N,`Type at least ${l()??""} characters to search`)),T(z,N)},b=z=>{var N=He();J(()=>ke(N,d(h))),T(z,N)};de(w,z=>{n().length<l()?z(x):z(b,!1)})}var _=ie(g,2),W=$(_);W.__click=[Bi,f];var B=$(W);nn(B,{color:"#d6d6d6",size:18,strokeWidth:3.5});var A=ie(W,2);A.__click=[Fi,c];var U=$(A);tn(U,{color:"#d6d6d6",size:18,strokeWidth:3.5}),J(()=>{ye(g,"disabled",s()===0),W.disabled=s()===0,A.disabled=s()===0}),T(k,y)};de(m,k=>{n()&&k(v)})}Gn(a,n),T(t,p),Z()}It(["input","keydown","click"]);sn.__docgen={data:[{name:"searchText",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'""'},{name:"caseInsensitive",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"totalResults",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1,defaultValue:"0"},{name:"currentResult",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1,defaultValue:"0"},{name:"searchMinCharacters",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1,defaultValue:"3"},{name:"onsearch",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"Function"},static:!1,readonly:!1,defaultValue:"function"},{name:"onnextResult",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"Function"},static:!1,readonly:!1,defaultValue:"function"},{name:"onpreviousResult",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"Function"},static:!1,readonly:!1,defaultValue:"function"}],name:"log-viewer-search-bar.svelte"};function Ki(t){const e="\x1B";return t.replace(new RegExp(`${e}\\[[0-9;]*[a-zA-Z]`,"g"),"").length}function Hi(t,e){const n=[],i="\x1B",s=new RegExp(`${i}\\[([0-9;]*)([a-zA-Z])`,"g");let r;for(;(r=s.exec(t))!==null&&!(r.index>e);)r[2]==="m"&&(r[1]==="0"||r[1]===""?n.length=0:n.push(r[0]));return n.join("")}function Ji(t,e){let n=0,i=0,s=!1;const r="\x1B";for(let f=0;f<t.length;f++){if(t[f]===r){s=!0;continue}if(s){t[f]==="m"&&(s=!1);continue}if(n++,n>e){i=f;break}}i===0&&(i=t.length);const l=t.slice(0,i),o=t.slice(i),c=Hi(l,l.length);return[l,c+o]}function Yi(t,e){return Array.isArray(e)?e.length===2?t>=e[0]&&t<=e[1]:e.includes(t):t===e}const rn="\x1B",Qi=["black","red","green","yellow","blue","magenta","cyan","white"],Xi=["grey","brightred","brightgreen","brightyellow","brightblue","brightmagenta","brightcyan","brightwhite"],_t=an(30,90),St=an(40,100);function an(t,e){const n={};return Qi.forEach((i,s)=>{n[String(t+s)]=i}),Xi.forEach((i,s)=>{n[String(e+s)]=i}),n}function yt(t){try{return t.includes(rn)?Gi(t):[{text:t}]}catch(e){return console.error("Error parsing ANSI text:",e),[{text:t}]}}function Gi(t){const e=[],n={text:""};let i=!1,s="";for(let r=0;r<t.length;r++){const l=t[r];if(Zi(l,t[r+1])){i=!0,s="",r++;continue}i?l==="m"?(i=!1,$i(s,n,e)):s+=l:n.text+=l}return n.text.length>0&&e.push(n),e}function Zi(t,e){return t===rn&&e==="["}function $i(t,e,n){e.text.length>0&&(n.push({...e}),e.text="");const i=t.split(";");es(i,e)}function es(t,e){if(t.length===0||t[0]==="0"||t[0]===""){ts(e);return}for(const n of t){const i=n.trim();ns(i,e)}}function ts(t){delete t.foreground,delete t.background,delete t.bold,delete t.italic,delete t.underline,delete t.blink,delete t.inverse}function ns(t,e){t==="1"?e.bold=!0:t==="3"?e.italic=!0:t==="4"?e.underline=!0:t==="5"?e.blink=!0:t==="7"?e.inverse=!0:t==="22"?delete e.bold:t==="23"?delete e.italic:t==="24"?delete e.underline:t==="25"?delete e.blink:t==="27"?delete e.inverse:_t[t]?e.foreground=_t[t]:St[t]&&(e.background=St[t])}function is(t,e){return Ki(t)>e}function ss(t,e,n){const i=e?n:n-2,[s,r]=Ji(t,i);return{chunk:s,remaining:r}}function rs(t,e,n){const i=[];let s=t,r=!0,l=n;for(;s.length>0;){const{chunk:o,remaining:c}=ss(s,r,e),f=r?"":"↪ ";if(i.push({number:l++,content:yt(f+o)}),s=c,r=!1,o.length===0)break}return i}function as(t,e,n){const i=[];let s=n;return t.split(`
`).forEach(r=>{if(!is(r,e)){i.push({number:s++,content:yt(r)});return}const l=rs(r,e,s);i.push(...l),s+=l.length}),i}function os(t,e,n,i,s){const r=s?n.toLowerCase():n,l=s?i.toLowerCase():i,o=[];let c=0;for(;;){const f=r.indexOf(l,c);if(f===-1)break;o.push({lineNumber:t,partIndex:e,startIndex:f,endIndex:f+l.length}),c=f+1}return o}function ls(t,e,n){return Array.isArray(t.content)?t.content.flatMap((i,s)=>i.text?os(t.number,s,i.text,e,n):[]):[]}function Et(t,e,n,i=3){return e.length<i?[]:t.flatMap(s=>ls(s,e,n))}function cs(t,e){return t.filter(n=>n.lineNumber===e)}function ds(t,e,n){var i;return e>=0&&((i=t[e])==null?void 0:i.lineNumber)===n?t[e]:null}function us(t,e){return e===0?-1:(t+1)%e}function fs(t,e){return e===0?-1:t<=0?e-1:t-1}function ys(t,e){return t.split(`
`).map((n,i)=>({number:e+i,content:yt(n)}))}function be(t,e=!1,n=100,i=1){return e?as(t,n,i):ys(t,i)}const Ct={containerStyle:{height:"calc(100% - 40px)"},caseInsensitive:!1,enableGutters:!1,enableHotKeys:!1,enableLineNumbers:!0,enableLinks:!1,enableMultilineHighlight:!0,enableSearch:!1,enableSearchNavigation:!0,wrapLines:!1,extraLines:0,fetchOptions:{credentials:"omit"},follow:!1,formatPart:void 0,height:"auto",highlight:[],highlightLineClassName:"",lineClassName:"",onError:void 0,onLoad:void 0,rowHeight:19,scrollToLine:0,searchMinCharacters:3,selectableLines:!1,stream:!1,style:{},websocket:!1,websocketOptions:{},eventsource:!1,eventsourceOptions:{maxEmptyEvents:100},width:"auto",external:!1,url:void 0,text:void 0};class ps extends Xt{constructor(n){super({url:n.url,options:n.websocketOptions||{},onMessage:n.onMessage,onError:n.onError});X(this,"connection",null)}connect(){try{this.connection=new WebSocket(this.url),this.connection.onopen=n=>{console.log("WebSocket connection established"),typeof this.options.onOpen=="function"&&this.options.onOpen(n,this.connection)},this.connection.onmessage=n=>{const i=this.formatMessageData(n.data);this.onMessage(i)},this.connection.onclose=n=>{if(console.log("WebSocket connection closed"),typeof this.options.onClose=="function"&&this.options.onClose(n),this.options.reconnect){const i=this.options.reconnectWait||1;console.log(`Attempting to reconnect in ${i}s...`),this.reconnectTimer=setTimeout(()=>{this.connect()},i*1e3)}},this.connection.onerror=n=>{console.error("WebSocket error:",n),typeof this.options.onError=="function"&&this.options.onError(n),this.handleConnectionError(new Error("WebSocket connection error"))}}catch(n){console.error("Error setting up WebSocket:",n),this.handleConnectionError(n instanceof Error?n:new Error(String(n)))}}send(n){if(!this.connection||this.connection.readyState!==WebSocket.OPEN)return console.error("Cannot send: WebSocket is not connected"),!1;try{const i=typeof n=="object"?JSON.stringify(n):n;return this.connection.send(i),!0}catch(i){return console.error("Failed to send message:",i),!1}}disconnect(n=1e3,i="Client disconnected"){this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.connection&&(this.connection.close(n,i),this.connection=null)}isConnected(){return!!this.connection&&this.connection.readyState===WebSocket.OPEN}}var hs=se('<div class="log-viewer svelte-uyorca"><!> <!></div>');function on(t,e){G(e,!0);const n=Ze(e,["$$slots","$$events","$$legacy"]),{containerStyle:i,caseInsensitive:s,height:r,width:l,style:o,highlight:c,url:f,text:h,stream:p,...u}={...Ct,...n};let a=ee(L([])),m,v=null,k=null,y=ee(""),g=ee(L(s)),w=ee(L([])),x=ee(-1);const b=u.wrapLines??Ct.wrapLines;let _=0,W=8.4,B=null,A=null;function U(){return _===0?100:Math.floor(_/W)}function z(M){M&&(F(y,L(M.value)),F(g,!!M.caseInsensitive),F(w,L(Et(d(a),d(y),!!d(g),u.searchMinCharacters??3))),F(x,L(d(w).length>0?0:-1)),d(x)>=0&&C())}function N(){F(x,L(us(d(x),d(w).length))),C()}function S(){F(x,L(fs(d(x),d(w).length))),C()}function C(){if(d(x)>=0&&m&&d(w).length>0){const M=d(w)[d(x)],D=d(a).findIndex(ne=>ne.number===M.lineNumber);D!==-1&&typeof m.scrollToIndex=="function"&&m.scrollToIndex(D)}}function q(M){return Yi(M,c??[])}function Y(M){var D;return d(x)>=0&&((D=d(w)[d(x)])==null?void 0:D.lineNumber)===M&&d(y).length>=(u.searchMinCharacters??3)}Nt(async()=>{B&&(_=B.clientWidth),h?F(a,L(be(h,b,U()))):f&&(u.websocket||u.eventsource?I():await Q()),B&&(A=new ResizeObserver(M=>{for(const D of M)_=D.contentRect.width,b&&d(a).length>0&&h&&F(a,L(be(h,b,U())))}),A.observe(B))}),at(()=>{v&&(v.disconnect(),v=null),k&&(k.disconnect(),k=null),A&&(A.disconnect(),A=null)});function I(){f&&(u.websocket?(v=new ps({url:f,websocketOptions:u.websocketOptions,onMessage:O,onError:R}),v.connect()):u.eventsource&&(k=new Ai({url:f,eventsourceOptions:u.eventsourceOptions,onMessage:O,onError:R}),k.connect()))}function O(M){const D=d(a).length>0?d(a)[d(a).length-1].number+1:1,ne=be(M,b,U(),D);F(a,L([...d(a),...ne])),d(y)&&d(y).length>=(u.searchMinCharacters??3)&&F(w,L(Et(d(a),d(y),!!d(g),u.searchMinCharacters??3))),u.follow&&m&&typeof m.scrollToIndex=="function"&&setTimeout(()=>{m.scrollToIndex(d(a).length-1)},0)}function R(M){console.error("Connection error in log-viewer:",M),typeof u.onError=="function"&&u.onError(M)}async function P(M){const D=M.body.getReader(),ne=new TextDecoder;for(;;){const{done:qe,value:Pe}=await D.read();if(qe)break;const De=ne.decode(Pe,{stream:!0}),Be=d(a).length>0?d(a)[d(a).length-1].number+1:1,Fe=be(De,b,U(),Be);F(a,L([...d(a),...Fe]))}}async function Q(){try{const M=await fetch(f);if(p)await P(M);else{const D=await M.text();F(a,L(be(D,b,U())))}}catch(M){console.error("Error fetching log:",M)}}var K=hs();const te=V(()=>`height: ${r??""}; width: ${l??""}; ${Object.entries(o??{}).map(([M,D])=>`${M}: ${D}`).join(";")??""}`);var oe=$(K),le=V(()=>d(x)>=0?d(x):0),me=V(()=>u.searchMinCharacters??3);sn(oe,{get searchText(){return d(y)},get caseInsensitive(){return d(g)},get totalResults(){return d(w).length},get currentResult(){return d(le)},get searchMinCharacters(){return d(me)},onsearch:z,onnextResult:N,onpreviousResult:S});var We=ie(oe,2),Se=V(()=>Object.entries(i??{}).map(([M,D])=>`${M}: ${D}`).join(";"));xe(Qt(We,{class:"svelte-lazylog-content",itemSize:24,get data(){return d(a)},get style(){return d(Se)},children:(D,ne=Ot)=>{var qe=V(()=>q(ne().number)),Pe=V(()=>d(y).length>=(u.searchMinCharacters??3)),De=V(()=>Y(ne().number)),Be=V(()=>cs(d(w),ne().number)),Fe=V(()=>ds(d(w),d(x),ne().number));en(D,{get line(){return ne()},get highlighted(){return d(qe)},get searchText(){return d(y)},get searchActive(){return d(Pe)},get caseInsensitive(){return d(g)},get isActiveMatch(){return d(De)},get lineMatches(){return d(Be)},get activeMatch(){return d(Fe)},wrapLines:b})},$$slots:{default:!0}}),D=>m=D,()=>m),xe(K,M=>B=M,()=>B),J(()=>Le(K,"style",d(te))),T(t,K),Z()}on.__docgen={keywords:[],data:[],name:"log-viewer.svelte"};function ln(t,e){G(e,!0),ei(e.repository());var n=H(),i=j(n);$e(i,()=>e.Stories,(s,r)=>{r(s,{})}),T(t,n),Z()}ln.__docgen={data:[{name:"Stories",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"function",text:"Component<{}, {}, string>"},static:!1,readonly:!1},{name:"repository",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"function",text:"() => StoriesRepository<Cmp>"},static:!1,readonly:!1}],name:"StoriesExtractor.svelte"};function gs(t){switch(typeof t){case"number":case"symbol":return!1;case"string":return t.includes(".")||t.includes("[")||t.includes("]")}}function ms(t){return Object.is(t,-0)?"-0":t.toString()}function vs(t){const e=[],n=t.length;if(n===0)return e;let i=0,s="",r="",l=!1;for(t.charCodeAt(0)===46&&(e.push(""),i++);i<n;){const o=t[i];r?o==="\\"&&i+1<n?(i++,s+=t[i]):o===r?r="":s+=o:l?o==='"'||o==="'"?r=o:o==="]"?(l=!1,e.push(s),s=""):s+=o:o==="["?(l=!0,s&&(e.push(s),s="")):o==="."?s&&(e.push(s),s=""):s+=o,i++}return s&&e.push(s),e}function cn(t,e,n){if(t==null)return n;switch(typeof e){case"string":{const i=t[e];return i===void 0?gs(e)?cn(t,vs(e),n):n:i}case"number":case"symbol":{typeof e=="number"&&(e=ms(e));const i=t[e];return i===void 0?n:i}default:{if(Array.isArray(e))return bs(t,e,n);Object.is(e==null?void 0:e.valueOf(),-0)?e="-0":e=String(e);const i=t[e];return i===void 0?n:i}}}function bs(t,e,n){if(e.length===0)return n;let i=t;for(let s=0;s<e.length;s++){if(i==null)return n;i=i[e[s]]}return i===void 0?n:i}const{addons:xs}=__STORYBOOK_MODULE_PREVIEW_API__,ks=xs.getChannel(),ws=t=>{const{storyContext:e}=t;if(_s(e))return;const n=Ss({code:e.parameters.__svelteCsf.rawCode,args:t.args});setTimeout(()=>{ks.emit(Fn,{id:e.id,args:e.unmappedArgs,source:n})})},_s=t=>{var s;const e=(s=t==null?void 0:t.parameters.docs)==null?void 0:s.source,n=t==null?void 0:t.parameters.__isArgsStory;return(t==null?void 0:t.parameters.__svelteCsf.rawCode)?(e==null?void 0:e.type)===vt.DYNAMIC?!1:!n||(e==null?void 0:e.code)||(e==null?void 0:e.type)===vt.CODE:!0},Ss=({code:t,args:e})=>{const n=Object.entries(e??{}).map(([r,l])=>Cs(r,l)).filter(r=>r);let i=n.join(" ");return i.length>50&&(i=`
  ${n.join(`
  `)}
`),t.replaceAll("{...args}",i).replace(/args(?:[\w\d_$\.\?\[\]"'])+/g,r=>{const l=r.replaceAll("?",""),o=cn({args:e},l);return dn(o)})},Es=t=>{var n;const e=((n=t.getMockName)==null?void 0:n.call(t))??t.name;return e&&e!=="spy"?e:"() => {}"},dn=t=>{var e;return typeof t=="object"&&t[Symbol.for("svelte.snippet")]?"snippet":typeof t=="function"?Es(t):(e=JSON.stringify(t,null,1))==null?void 0:e.replace(/\n/g,"").replace(new RegExp("(?<!\\s)([}\\]])$")," $1")},Cs=(t,e)=>{if(e==null)return null;if(e===!0)return t;const n=dn(e);return typeof e=="string"?`${t}=${n}`:`${t}={${n}}`};function un(t,e){G(e,!0);const n=Bt();we(()=>{n.set({currentStoryExportName:e.exportName,args:e.args,storyContext:e.storyContext})}),we(()=>{ws({args:e.args,storyContext:e.storyContext})});var i=H(),s=j(i);$e(s,()=>e.Stories,(r,l)=>{l(r,{})}),T(t,i),Z()}un.__docgen={data:[{name:"Stories",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"function",text:"Component<{}, {}, string>"},static:!1,readonly:!1},{name:"exportName",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"args",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"any",text:"any"},static:!1,readonly:!1},{name:"storyContext",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"any",text:"any"},static:!1,readonly:!1}],name:"StoryRenderer.svelte"};const Ms=document.createDocumentFragment?()=>document.createDocumentFragment():()=>document.createElement("div"),Is=(t,e)=>{const n={stories:new Map};try{const s=Cn(ln,{target:Ms(),props:{Stories:t,repository:()=>n}});Mn(s)}catch(s){console.error(`Error in mounting stories ${s.toString()}`,s)}const i={};for(const[s,r]of n.stories){const l={...r,render:(c,f)=>({Component:un,props:{exportName:s,Stories:t,storyContext:f,args:c}})},o=e.play??r.play;o&&(l.play=c=>{var h;const f=(h=c.playFunction)==null?void 0:h.__play;return f?f(c):o(c)}),i[s]=l}return i},Ts={title:"LogViewer",component:on,tags:["autodocs"],parameters:{docs:{description:{component:`Svelte component that loads and views remote text in the browser lazily and efficiently.
Logs can be loaded from static text, a URL, or a WebSocket and including ANSI highlighting.`}}}},{Story:pe}=oi();var Ls=se("<!> <!> <!> <!> <!> <!>",1);function fn(t,e){G(e,!1),Tt();var n=Ls(),i=j(n);pe(i,{name:"Text Based",args:{text:`\x1B[4;1mRunning "clean:all" (clean) task\x1B[0m
\x1B[32m>> \x1B[39m0 paths cleaned.

\x1B[4;1mRunning "copy:base" (copy) task\x1B[0m
Created 188 directories, copied 1433 files

\x1B[4;1mRunning "copy:app" (copy) task\x1B[0m
Created 40 directories, copied 233 files

\x1B[4;1mRunning "processhtml:dist" (processhtml) task\x1B[0m

\x1B[4;1mRunning "ngAnnotate:dist" (ngAnnotate) task\x1B[0m
\x1B[32m>> \x1B[39m52 files successfully generated.

\x1B[4;1mRunning "uglify:dist" (uglify) task\x1B[0m
\x1B[32m>> \x1B[39m2 sourcemaps created.
\x1B[32m>> \x1B[39m2 files created.

\x1B[4;1mRunning "less:app" (less) task\x1B[0m
\x1B[32mFile target/dist/css/alertEvents.css created\x1B[39m
\x1B[32mFile target/dist/css/application.css created\x1B[39m

\x1B[4;1mRunning "less:libs" (less) task\x1B[0m
\x1B[31mCreate file target/dist/css/libs.css failed\x1B[39m`,height:"600px"},parameters:{docs:{description:{story:"Basic example with text"}},__svelteCsf:{rawCode:"<LogViewer {...args} />"}}});var s=ie(i,2);pe(s,{name:"URL Based",args:{url:"https://gist.githubusercontent.com/helfi92/96d4444aa0ed46c5f9060a789d316100/raw/ba0d30a9877ea5cc23c7afcd44505dbc2bab1538/typical-live_backing.log",height:"600px"},parameters:{docs:{description:{story:"Example with URL"}},__svelteCsf:{rawCode:"<LogViewer {...args} />"}}});var r=ie(s,2);pe(r,{name:"External Mode",args:{external:!0,text:`\x1B[4;1mRunning "clean:all" (clean) task\x1B[0m
\x1B[32m>> \x1B[39m0 paths cleaned.

\x1B[4;1mRunning "copy:base" (copy) task\x1B[0m
Created 188 directories, copied 1433 files

\x1B[4;1mRunning "copy:app" (copy) task\x1B[0m
Created 40 directories, copied 233 files

\x1B[4;1mRunning "processhtml:dist" (processhtml) task\x1B[0m

\x1B[4;1mRunning "ngAnnotate:dist" (ngAnnotate) task\x1B[0m
\x1B[32m>> \x1B[39m52 files successfully generated.

\x1B[4;1mRunning "uglify:dist" (uglify) task\x1B[0m
\x1B[32m>> \x1B[39m2 sourcemaps created.
\x1B[32m>> \x1B[39m2 files created.

\x1B[4;1mRunning "less:app" (less) task\x1B[0m
\x1B[32mFile target/dist/css/alertEvents.css created\x1B[39m
\x1B[32mFile target/dist/css/application.css created\x1B[39m

\x1B[4;1mRunning "less:libs" (less) task\x1B[0m
\x1B[31mCreate file target/dist/css/libs.css failed\x1B[39m`,height:"600px"},parameters:{docs:{description:{story:"Example with ANSI colors"}},__svelteCsf:{rawCode:"<LogViewer {...args} />"}}});var l=ie(r,2),o=mt(()=>({websocket:!0,url:"wss://stream.binance.com:9443/ws/btcusdt@trade",websocketOptions:{formatMessage:p=>{try{if(typeof p=="string"){const u=JSON.parse(p);if(u.e==="trade"){const a=u.s,m=Number(u.p).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),v=Number(u.q).toLocaleString("en-US",{minimumFractionDigits:8,maximumFractionDigits:8}),k=new Date(u.T).toLocaleTimeString(),y=u.m?"SELL":"BUY";return`[${k}] [TRADE] ${a} | ${y==="SELL"?"\x1B[31m":"\x1B[32m"}${y}\x1B[0m | Price: $${m} | Quantity: ${v}`}return JSON.stringify(u,null,2)}return String(p)}catch{return String(p)}},reconnect:!0},follow:!0,height:"600px"}));pe(l,{name:"WebSocket",get args(){return d(o)},parameters:{docs:{description:{story:"Example with WebSocket - Using Binance WebSocket API for real-time cryptocurrency trade data"}},__svelteCsf:{rawCode:"<LogViewer {...args} />"}}});var c=ie(l,2),f=mt(()=>({eventsource:!0,url:"https://stream.wikimedia.org/v2/stream/recentchange",eventsourceOptions:{withCredentials:!1,formatMessage:p=>{var u;try{if(!p||typeof p!="string"||p===":ok")return"";const a=JSON.parse(p);if(a.$schema&&a.type&&a.title){const m=new Date(((u=a.meta)==null?void 0:u.dt)||Date.now()).toISOString(),v=a.wiki||a.server_name||"wiki";return`${m} [${v}] Page "${a.title}" was ${a.type} by ${a.user||"unknown"}`}return""}catch{return""}},reconnect:!0,reconnectWait:2,maxEvents:1500,eventDelay:500},follow:!0,height:"600px"}));pe(c,{name:"EventSource",get args(){return d(f)},parameters:{docs:{description:{story:"Example with EventSource"}},__svelteCsf:{rawCode:"<LogViewer {...args} />"}}});var h=ie(c,2);pe(h,{name:"Line Wrapping",args:{text:`This is a line that should be wrapped when the wrapLines option is enabled. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
Normal short line
Another very long line that demonstrates the wrapping functionality in action. The text should wrap to the next line rather than extending beyond the container causing horizontal scrolling. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
This line includes some ANSI \x1B[31mred text\x1B[0m and \x1B[32mgreen text\x1B[0m that is very long to demonstrate that wrapping works with ANSI color codes too. The colored text should flow naturally to the next line when it reaches the edge of the container.
The end.`,wrapLines:!0,height:"600px",style:{resize:"both",overflow:"auto",border:"1px solid #666"}},parameters:{docs:{description:{story:"Example with Line Wrapping enabled"}},__svelteCsf:{rawCode:"<LogViewer {...args} />"}}}),T(t,n),Z()}fn.__docgen={version:3,name:"log-viewer.stories.svelte",data:[],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};const ge=Is(fn,Ts),Ws=["TextBased","URLBased","ExternalMode","WebSocket","EventSource","LineWrapping"],qs=ge.TextBased,Ps=ge.URLBased,Ds=ge.ExternalMode,Bs=ge.WebSocket,Fs=ge.EventSource,js=ge.LineWrapping;export{Fs as EventSource,Ds as ExternalMode,js as LineWrapping,qs as TextBased,Ps as URLBased,Bs as WebSocket,Ws as __namedExportsOrder,Ts as default};
